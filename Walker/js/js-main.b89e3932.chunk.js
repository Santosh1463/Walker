(this.webpackJsonproute_planner=this.webpackJsonproute_planner||[]).push([[0],{113:function(e,t,n){e.exports=n.p+"static/media/logo.98150afb.png"},119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(30),i=n.n(o),s=n(5),l=n(6),c=n(18),u=n(8),d=n(7),p=(n(53),n(59)),m=n.n(p).a.initializeApp({apiKey:"AIzaSyAErybILt6ZC-OpZOM3dZxczKKPPfZ1Mow",authDomain:"route-planner-72395.firebaseapp.com",databaseURL:"https://route-planner-72395.firebaseio.com",projectId:"route-planner-72395",storageBucket:"route-planner-72395.appspot.com",messagingSenderId:"235678387875",appId:"1:235678387875:web:fd8f7cef629768eebb7916",measurementId:"G-G1BS4ZL18T"}),h=n(37),g=n.n(h),v=n(49),f=n(133),b=n(134),E=n(9),y=n.n(E),C=n(44),j=n(70),M=(n(54),n(55),n(90),n(29)),O=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={leafletElement:"",leafletElements:[]},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){e.generated!==this.props.generated&&(this.createLeafletElement(),0!==this.state.leafletElements.length&&this.state.leafletElements.forEach((function(e){return e.spliceWaypoints(0,2)})))}},{key:"createLeafletElement",value:function(){var e=this.props,t=e.map,n=e.journeyCoords,a=e.vehicle,r=y.a.Routing.control({waypoints:[y.a.latLng(n[0][0],n[0][1]),y.a.latLng(n[1][0],n[1][1])],router:new y.a.Routing.openrouteserviceV2("5b3ce3597851110001cf6248b4be2ae5777840a697277752138f89c2",{profile:a})});return this.setState((function(e){return{leafletElements:[].concat(Object(C.a)(e.leafletElements),[r])}})),this.props.generated<1&&r.spliceWaypoints(0,2),r.addTo(t.leafletElement),y.a.control.zoom({position:"bottomright"}).addTo(t.leafletElement),r.getPlan()}}]),n}(j.a),S=Object(M.b)(O),T=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={leafletElement:"",leafletElements:[]},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){e.roundTripGenerated!==this.props.roundTripGenerated&&(this.createLeafletElement(),0!==this.state.leafletElements.length&&this.state.leafletElements.forEach((function(e){return e.getPlan().setWaypoints([])})))}},{key:"createLeafletElement",value:function(){var e,t=this.props,n=t.map,a=t.roundTripCoords,r=t.vehicle,o=[];""!==a&&(o.push(y.a.latLng(a[0][1],a[0][0])),e=a.length>1550?100:5+5*Math.ceil((a.length-200)/150),a.forEach((function(t,n){if(n%e==0){var a=y.a.latLng(t[1],t[0]);o.push(a)}})),o.push(y.a.latLng(a[a.length-1][1],a[a.length-1][0])));var i=y.a.Routing.control({waypoints:o,router:new y.a.Routing.openrouteserviceV2("5b3ce3597851110001cf6248b4be2ae5777840a697277752138f89c2",{profile:r})});return this.setState((function(e){return{leafletElements:[].concat(Object(C.a)(e.leafletElements),[i])}})),this.props.roundTripGenerated<1&&i.getPlan().setWaypoints([]),i.addTo(n.leafletElement),i.getPlan()}}]),n}(j.a),L=Object(M.b)(T),k=n(60),w=n.n(k),N=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.options,n=e.startDirectly,a=this.props.leaflet.map,r=new w.a(t);r.addTo(a),n&&r.start()}},{key:"render",value:function(){return null}}]),n}(a.Component),A=Object(M.b)(N),P={position:"topright",strings:{title:"Show me where I am!"},onActivate:function(){}},D=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={journeyCoords:e.props.journeyCoords,isMapInit:!1},e.saveMap=function(t){e.map=t,e.setState({isMapInit:!0})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[this.props.lat,this.props.lng];return r.a.createElement(f.a,{center:e,zoom:this.props.zoom,ref:this.saveMap},r.a.createElement(b.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(A,{options:P,startDirectly:!0}),void 0!==this.props.journeyCoords&&this.state.isMapInit&&r.a.createElement(S,{map:this.map,journeyCoords:this.props.journeyCoords,vehicle:this.props.vehicle,generated:this.props.generated}),void 0!=this.props.roundTripCoords&&this.state.isMapInit&&r.a.createElement(L,{map:this.map,roundTripCoords:this.props.roundTripCoords,vehicle:this.props.vehicle,roundTripGenerated:this.props.roundTripGenerated}))}}]),n}(a.Component),I=n(40),R=n.n(I),H=n(61),x=n.n(H);var G=function(e){return r.a.createElement("button",{type:"button",className:"close",onClick:function(t){return e.removeMap(t)}},r.a.createElement(x.a,null))};var _=function(e){return r.a.createElement("div",{className:"col map-el"},r.a.createElement("p",null,e.text," ",e.point))};var B=function(e){return r.a.createElement("div",{className:"col map-el"},r.a.createElement("p",null,"Activity: ",e.vehicleType))};var F=function(e){return r.a.createElement("div",{className:"col map-el"},r.a.createElement("p",null,"Distance: ",e.distance," km"))};var z=function(e){return r.a.createElement("div",{className:"col map-el"},r.a.createElement("span",null,"Saved "),r.a.createElement(R.a,{fromNow:!0},e.date))};var V=function(e){return r.a.createElement("div",{className:"col map-el description"},r.a.createElement("p",null,e.description),r.a.createElement("div",{className:"underline"}))};var W=function(e){return r.a.createElement("div",{key:e.i,className:"savedMapDiv",onClick:function(){return e.displaySavedRoute(e.id)}},r.a.createElement(V,{description:e.description}),e.roundTrip?r.a.createElement(_,{text:"Starting point: ",point:e.startingPoint}):r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{text:"Starting point: ",point:e.startingPoint}),r.a.createElement(_,{text:"Endpoint: ",point:e.endPoint})),r.a.createElement(B,{vehicleType:e.vehicleType}),r.a.createElement(F,{distance:e.convertDistance}),r.a.createElement(z,{date:e.convertDate}),r.a.createElement("div",{className:"dustbin"},r.a.createElement(G,{id:e.id,removeMap:function(t){return e.removeMap(t)}})))},U=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).removeMap=function(t,n){n.stopPropagation(),e.routes.where("id","==",t).get().then((function(t){t.forEach((function(t){t.ref.delete().then((function(){e.props.updateMapContainer()})).catch((function(e){console.error("Error removing document: ",e)}))}))})).catch((function(e){console.error("Error getting documents: ",e)}))},e.displaySavedRoute=function(t){e.routes.where("id","==",t).get().then((function(t){e.setState({route:t.docs[0].data()}),e.props.displayRoute(e.state.route)}))},e.renderRouteData=function(){var t=[];e.routes.orderBy("id").get().then((function(n){n.docs.forEach((function(e,n){t.push(e.data())})),e.setState({data:t})}))},e.convertDate=function(e){return new Date(parseInt(e))},e.convertDistance=function(e){return(.001*e).toFixed(2)},e.listDataReverse=function(){return e.state.data.reverse()},e.routes=m.firestore().collection("routes"),e.state={data:[],key:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.renderRouteData()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.removeMap,t.user),a=t.toggleMyMaps;return r.a.createElement("div",null,r.a.createElement("div",{className:"db-form",style:{display:a?"block":"none"}},this.listDataReverse().map((function(t,a){var o=t.description,i=t.distance,s=t.endPoint,l=(t.endingCoordinates,t.id),c=t.roundTrip,u=(t.roundTripCoordinates,t.roundTripStart),d=(t.startingCoordinates,t.startingPoint),p=t.userName,m=t.vehicleType;if(n&&p==n.email)return r.a.createElement(W,{key:l,id:l,i:a,displaySavedRoute:function(){return e.displaySavedRoute(l)},description:o,roundTripStart:u,startingPoint:d,endPoint:s,vehicleType:m,roundTrip:c,convertDistance:e.convertDistance(i),convertDate:e.convertDate(l),removeMap:function(t){return e.removeMap(l,t)}})}))))}}]),n}(r.a.Component),q=(n(112),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).hideAlert=function(){a.props.hideAlert()},a.state={message:"Flash Message"},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return this.props.isActive?r.a.createElement("div",{className:"alert alert-warning alert-dismissible flash",role:"alert"},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(){return e.hideAlert()}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("p",null,this.props.message)):r.a.createElement("div",null)}}]),n}(a.Component)),J=n(64),K=n.n(J);var Z=function(e){return r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:e.placeholder,name:e.name,onChange:e.changeHandler,value:e.value}))};var Y=function(e){return r.a.createElement("div",{className:"col",id:"dropDownSelection"},r.a.createElement("select",{class:"form-control dropDownList","data-role":"select-dropdown","data-profile":"minimal","cy-name":e.cyName,value:e.value,onChange:e.vehicleChangeHandler}," ",r.a.createElement("option",{selected:!0,value:"foot-walking"},"Walking"),r.a.createElement("option",{value:"driving-car"},"Driving"),r.a.createElement("option",{value:"cycling-regular"},"Cycling"),r.a.createElement("option",{value:"foot-hiking"},"Hiking")))},Q=n(62),X=n.n(Q);var $=function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{id:"useMyLocation",onClick:e.locationHandler,type:"button",className:"btn btn-secondary buttons",value:e.value},r.a.createElement(X.a,{id:"location"}),"Use My Location"))},ee=n(35);var te=function(e){var t;return r.a.createElement("div",{className:"col"},r.a.createElement("button",(t={id:"roundTripButton",className:"form-control",type:"submit"},Object(ee.a)(t,"className","btn btn-primary"),Object(ee.a)(t,"value",e.value),t),e.value))},ne=n(63),ae=n.n(ne);var re=function(e){return r.a.createElement("button",{id:"addEndPoint",className:"btn btn-danger buttons",onClick:e.formHandler,value:e.buttonText},r.a.createElement(ae.a,{id:"swap"}),e.buttonText)},oe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={vehicle:"foot-walking",lat:51.5033,lng:-.1195,roundTrip:!0,buttonText:"Add Endpoint",generateButton:"Generate",seed:1,generated:0,roundTripGenerated:0,distance:null,roundTripCoords:[[],[]],endingLat:null,endingLon:null,userName:"user",zoom:13,description:"",startingPoint:"",endPoint:"",message:""},a.displayRoute=function(e){if(a.setState({generated:0,roundTripGenerated:0}),e.roundTrip)a.setState({generated:0,roundTripGenerated:a.state.roundTripGenerated+1,roundTripCoords:JSON.parse(e.roundTripCoordinates),vehicle:e.vehicleType});else{var t=[];e.startingCoordinates.forEach((function(e){return t.push(Number(e))}));var n=[];e.endingCoordinates.forEach((function(e){return n.push(Number(e))})),a.setState({roundTripGenerated:0,generated:a.state.generated+1,startingLat:t[0],startingLon:t[1],endingLat:n[0],endingLon:n[1],vehicle:e.vehicleType})}},a.hideAlert=function(){a.setState({errorIsActive:!1})},a.saveToDB=function(){var e=m.firestore(),t=String(Date.now());a.state.addToList;a.updateMapContainer(),e.collection("routes").add({roundTrip:a.state.roundTrip,distance:a.state.distance,roundTripCoordinates:JSON.stringify(a.state.roundTripCoords),startingCoordinates:[a.state.startingLat,a.state.startingLon],endingCoordinates:[a.state.endingLat,a.state.endingLon],vehicleType:a.state.vehicle,id:t,userName:a.props.user.email,description:a.state.description,startingPoint:a.state.startingPoint,endPoint:a.state.endPoint}),a.setState({message:"Route saved",errorIsActive:!0,description:""})},a.updateMapContainer=function(){a.setState({key:Math.random()})},a.formHandler=function(){var e=!a.state.roundTrip;a.setState({roundTripGenerated:0,startingPoint:"",endPoint:"",roundTripLength:"",generated:0,roundTrip:e,generateButton:"Generate",buttonText:"Add Endpoint"==a.state.buttonText?"Round Trip":"Add Endpoint"})},a.descriptionHandler=function(e){a.setState({description:e.target.value})},a.locationHandler=function(e){a.setState({startingPoint:"".concat(a.state.lat,", ").concat(a.state.lng)})},a.startChangeHandler=function(e){console.log("StartChangeHandler"),a.setState({startingPoint:e.target.value})},a.endChangeHandler=function(e){a.setState({endPoint:e.target.value})},a.roundTripStartHandler=function(e){console.log("RoundStartChangeHandler"),a.setState({startingPoint:e.target.value,generateButton:"Generate",seed:1})},a.roundTripLengthHandler=function(e){a.setState({roundTripLength:e.target.value,generateButton:"Generate",seed:1})},a.vehicleChangeHandler=function(e){a.setState({vehicle:e.target.value})},a.submitHandler=function(e){e.preventDefault();var t="https://eu1.locationiq.com/v1/search.php?key=7e1fd34c327d5f&q="+a.state.startingPoint+"&format=json",n="https://eu1.locationiq.com/v1/search.php?key=7e1fd34c327d5f&q="+a.state.endPoint+"&format=json";(function(){var e=Object(v.a)(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return void 0!==e[0]?a.setState({startingLat:e[0].lat,startingLon:e[0].lon,message:"",errorIsActive:!1}):a.setState({message:"Error starting address could not be found.",errorIsActive:!0,startingLat:"",startingLon:""})}));case 2:return e.next=4,fetch(n).then((function(e){return e.json()})).then((function(e){return void 0!==e[0]&&!1===a.state.errorIsActive?a.setState({endingLat:e[0].lat,endingLon:e[0].lon,message:"",errorIsActive:!1}):a.setState({message:"Error address could not be found.",errorIsActive:!0,startingLat:"",startingLon:"",generated:0})}));case 4:return r="https://api.openrouteservice.org/v2/directions/driving-car?api_key=5b3ce3597851110001cf6248b4be2ae5777840a697277752138f89c2&start="+a.state.startingLon+","+a.state.startingLat+"&end="+a.state.endingLon+","+a.state.endingLat,e.next=7,fetch(r).then((function(e){return e.json()})).then((function(e){a.setState({distance:e.features[0].properties.summary.distance,generated:a.state.generated+1})})).catch((function(e){return a.setState({error:e,isLoading:!1})}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},a.handleSubmitRoundTrip=function(e){e.preventDefault();var t="https://eu1.locationiq.com/v1/search.php?key=7e1fd34c327d5f&q="+a.state.startingPoint+"&format=json";(function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return void 0!==e[0]?a.setState({startingLat:e[0].lat,startingLon:e[0].lon,message:"",errorIsActive:!1}):a.setState({message:"Error no address could be found.",errorIsActive:!0,startingLat:"",startingLon:""})}));case 2:return e.next=4,fetch("https://api.openrouteservice.org/v2/directions/driving-car/geojson",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/geo+json, application/gpx+xml, img/png; charset=utf-8",Authorization:"5b3ce3597851110001cf6248b4be2ae5777840a697277752138f89c2"},body:'{"coordinates":[['+a.state.startingLon+","+a.state.startingLat+']],"options":{"round_trip":{"length":'+1e3*a.state.roundTripLength+',"points":3,"seed":'+a.state.seed+"}}}"}).then((function(e){return e.json()})).then((function(e){void 0!==e.features?a.setState({roundTripCoords:e.features[0].geometry.coordinates,distance:e.features[0].properties.summary.distance,message:"",errorIsActive:!1}):a.setState({message:"Error no address could be found.",errorIsActive:!0,roundTripCoords:""}),a.setState({generateButton:"Randomise",seed:a.state.seed+1,roundTripGenerated:a.state.roundTripGenerated+1})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.setState({lat:t.coords.latitude,lng:t.coords.longitude})}))}},{key:"render",value:function(){var e=this.state,t=e.startingPoint,n=e.lat,a=e.lng,o=e.roundTripLength,i=e.endPoint,s=e.description,l="";return l=t==="".concat(n,", ").concat(a)?"My Location":this.state.startingPoint,r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"main-form",style:{display:this.props.toggleMyMaps?"none":"block"}},!this.props.toggleMyMaps&&r.a.createElement("div",null,r.a.createElement("div",{className:"row",id:"userWelcome"},this.props.user?r.a.createElement("div",{className:"col"},r.a.createElement("p",{id:"welcome-message"},"Welcome: ",this.props.user.email)):""),1==this.state.roundTrip?r.a.createElement("form",{id:"roundTripForm",onSubmit:this.handleSubmitRoundTrip},r.a.createElement("div",{className:"form-row"},r.a.createElement(Z,{changeHandler:this.roundTripStartHandler,value:l,placeholder:"Start point for round trip",name:"startingPoint"}),r.a.createElement(Z,{changeHandler:this.roundTripLengthHandler,value:o,placeholder:"Length of trip (km)",name:"roundTripLength"})),r.a.createElement($,{locationHandler:this.locationHandler,value:"myRoundLocation"}),r.a.createElement("div",{className:"form-row",id:"generateRoute"},r.a.createElement(Y,{cyName:"vehicleChoice",value:this.state.value,vehicleChangeHandler:this.vehicleChangeHandler}),r.a.createElement(te,{value:this.state.generateButton}))):r.a.createElement("form",{onSubmit:this.submitHandler,id:"secondForm"},r.a.createElement("div",{className:"form-row"},r.a.createElement(Z,{changeHandler:this.startChangeHandler,value:l,placeholder:"Starting point",name:"startingPoint"}),r.a.createElement(Z,{changeHandler:this.endChangeHandler,value:i,placeholder:"End point",name:"endPoint"})),r.a.createElement($,{locationHandler:this.locationHandler,value:"myLocation"}),r.a.createElement("div",{className:"form-row",id:"generateRoute"},r.a.createElement(Y,{cyName:"roundVehiclechoice",value:this.state.value,vehicleChangeHandler:this.vehicleChangeHandler}),r.a.createElement(te,{value:"Generate"}))),r.a.createElement(re,{formHandler:this.formHandler,buttonText:this.state.buttonText})),!this.props.toggleMyMaps&&this.props.user&&(this.state.roundTripGenerated>0||this.state.generated>0)&&r.a.createElement("div",{className:"form-row",id:"saveRouteID"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Description here...",value:s,name:"description",onChange:this.descriptionHandler})),r.a.createElement("button",{value:"saveRoute",id:"saveRoute",className:"btn btn-warning buttons",onClick:this.saveToDB},r.a.createElement(K.a,{id:"save-icon"}),"Save route"))),this.props.toggleMyMaps&&r.a.createElement(U,{key:this.state.key,displayRoute:this.displayRoute,removeMap:this.removeMap,updateMapContainer:this.updateMapContainer,user:this.props.user,toggleMyMaps:this.props.toggleMyMaps}),this.state.errorIsActive&&r.a.createElement(q,{message:this.state.message,isActive:this.state.errorIsActive,hideAlert:this.hideAlert}),r.a.createElement(D,{journeyCoords:[[this.state.startingLat,this.state.startingLon],[this.state.endingLat,this.state.endingLon]],roundTripCoords:this.state.roundTripCoords,vehicle:this.state.vehicle,lat:this.state.lat,lng:this.state.lng,generated:this.state.generated,roundTripGenerated:this.state.roundTripGenerated,zoom:this.state.zoom}))}}]),n}(a.Component),ie=n(131);var se=function(e){return r.a.createElement(ie.a.Brand,{onClick:function(t){return e.homePageView(t)},className:"main-logo",href:""},r.a.createElement("img",{className:"logo",src:n(113)}))},le=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""},r.a.createElement("button",{type:"submit",onClick:this.props.login,id:"logInButton",class:"btn btn-primary btn-sm"},"Login")))}}]),n}(a.Component),ce=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""},r.a.createElement("button",{onClick:this.props.signup,id:"signUpButton",className:"btn btn-success btn-sm"},"Signup")))}}]),n}(a.Component),ue=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"col"},r.a.createElement("input",{value:this.props.email,onChange:this.props.handleChange,type:"email",name:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})),r.a.createElement("div",{class:"col"},r.a.createElement("input",{value:this.props.password,onChange:this.props.handleChange,type:"password",name:"password",class:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),r.a.createElement(le,{login:this.props.login}),r.a.createElement(ce,{signup:this.props.signup}))}}]),n}(a.Component),de=n(132),pe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row user-login-container"},r.a.createElement("div",{className:"col"},r.a.createElement(de.a,{className:"container-fluid"},r.a.createElement(de.a.Link,{className:"ml-auto",id:"my-routes",onClick:this.props.toggleMyMaps,href:""},this.props.toggleMyMapsState?"Find Route":"My Routes")))))}}]),n}(a.Component),me=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""},r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:this.props.logout,id:"logOutButton"},"Logout")))}}]),n}(a.Component),he=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).toggleMyMaps=function(){var e=!a.state.toggleMyMaps;a.setState({toggleMyMaps:e}),a.props.toggleMyMaps(e)},a.homePageView=function(){a.setState({toggleMyMaps:!1}),a.props.toggleMyMaps(!1)},a.hideAlert=function(){console.log("You called?"),a.setState({errorIsActive:!1})},a.login=a.login.bind(Object(c.a)(a)),a.handleChange=a.handleChange.bind(Object(c.a)(a)),a.signup=a.signup.bind(Object(c.a)(a)),a.logout=a.logout.bind(Object(c.a)(a)),a.state={email:"",password:"",toggleMyMaps:!1,message:""},a}return Object(l.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(ee.a)({},e.target.name,e.target.value))}},{key:"login",value:function(e){var t=this;e.preventDefault(),m.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then((function(e){t.setState({message:"",errorIsActive:!1}),console.log("LogIn Detailes",t.state.email,t.email.password)})).catch((function(e){t.setState({message:e.message,errorIsActive:!0}),console.log("Log in error")}))}},{key:"signup",value:function(e){var t=this;e.preventDefault(),m.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then((function(e){t.setState({message:"",errorIsActive:!1}),console.log("SignUp Details",t.state.email,t.email.password)})).catch((function(e){t.setState({message:e.message,errorIsActive:!0}),console.log("SignUp Error")}))}},{key:"logout",value:function(){m.auth().signOut(),console.log("LogOut")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{sticky:"top",className:"navbarCustom",collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(se,{homePageView:this.homePageView}),r.a.createElement(ie.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(ie.a.Collapse,{sticky:"top",id:"responsive-navbar-nav"},r.a.createElement("div",{className:"user-nav"},r.a.createElement("form",null,r.a.createElement("div",{className:"row user-login-container"},this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{toggleMyMaps:this.toggleMyMaps,toggleMyMapsState:this.state.toggleMyMaps,logout:this.props.logout}),r.a.createElement(me,{logout:this.logout})):r.a.createElement(ue,{email:this.state.email,password:this.state.password,login:this.login,signup:this.signup,handleChange:this.handleChange})))))))}}]),n}(a.Component),ge=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).toggleMyMaps=function(t){var n=t;e.setState({toggleMyMaps:n})},e.state={user:null,toggleMyMaps:!1},e.authListener=e.authListener.bind(Object(c.a)(e)),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;m.auth().onAuthStateChanged((function(t){console.log(t),t?(e.setState({user:t}),localStorage.setItem("user",t.uid)):(e.setState({user:null}),localStorage.removeItem("user"))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(he,{toggleMyMaps:this.toggleMyMaps,user:this.state.user}),r.a.createElement(q,{user:this.state.user}),r.a.createElement(oe,{toggleMyMaps:this.state.toggleMyMaps,user:this.state.user}))}}]),n}(a.Component);n(117);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge,null)),document.getElementById("root"))},53:function(e,t,n){},72:function(e,t,n){e.exports=n(119)},90:function(e,t,n){var a=n(91);!function(){"use strict";var e=n(9);n(56);e.Routing=e.Routing||{},e.Routing.OpenRouteServiceV2=e.Class.extend({initialize:function(t,n,a){this._apiKey=t,this._orsOptions=n,e.Util.setOptions(this,a)},route:function(t,n,r){var o=[],i=new a.Directions({api_key:this._apiKey}),s=[];return t.forEach((function(e){s.push([e.latLng.lng,e.latLng.lat])})),this._orsOptions.coordinates=s,i.calculate(this._orsOptions).then(e.bind((function(e){var t=JSON.parse(JSON.stringify(e));this._routeDone(t,o,n,r)}),this)).catch((function(e){console.error(e)})),this},_routeDone:function(e,t,n,a){var r,o,i,s,l,c,u,d,p,m,h,g,v,f=[];if(a=a||n,e.routes){for(s=0;s<e.routes.length;s++){for(v=e.routes[s],i=this._decodePolyline(v.geometry),0,u=[],r=[],p=0,d=0,l=0;l<v.segments.length;l++)for(m=v.segments[l].steps,c=0;c<m.length;c++)d+=(h=m[c]).distance,p+=h.duration,g=this._convertInstructions(h,i),u.push(g),o=i[v.way_points[1]],r.push(o);f.push({name:"Route: "+(s+1),coordinates:i,instructions:u,summary:{totalDistance:d,totalTime:p},inputWaypoints:t,waypoints:r})}n.call(a,null,f)}else n.call(a,{status:e.type,message:e.details})},_decodePolyline:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],a=0,r=e.length,o=0,i=0,s=0;a<r;){var l=void 0,c=0,u=0;do{u|=(31&(l=e.charAt(a++).charCodeAt(0)-63))<<c,c+=5}while(l>=32);o+=0!==(1&u)?~(u>>1):u>>1,c=0,u=0;do{u|=(31&(l=e.charAt(a++).charCodeAt(0)-63))<<c,c+=5}while(l>=32);if(i+=0!==(1&u)?~(u>>1):u>>1,t){c=0,u=0;do{u|=(31&(l=e.charAt(a++).charCodeAt(0)-63))<<c,c+=5}while(l>=32);s+=0!==(1&u)?~(u>>1):u>>1}try{var d=[o/1e5,i/1e5];t&&d.push(s/100),n.push(d)}catch(p){console.log(p)}}return n},_convertInstructions:function(e,t){return{text:e.instruction,distance:e.distance,time:e.duration,index:e.way_points[0]}}}),e.Routing.openrouteserviceV2=function(t,n,a){return new e.Routing.OpenRouteServiceV2(t,n,a)}}()}},[[72,1,2]]]);
//# sourceMappingURL=main.b89e3932.chunk.js.map